# Coturn TURN/STUN Server Configuration
# Production-ready configuration for CallStack platform

# Network settings
listening-port=3478
tls-listening-port=5349
listening-ip=0.0.0.0

# Relay settings
relay-ip=0.0.0.0
external-ip=$EXTERNAL_IP

# Authentication
use-auth-secret
static-auth-secret=$TURN_SECRET
realm=callstack.example.com

# Total quota
total-quota=100
user-quota=12
max-bps=64000

# Log settings
log-file=/var/log/turnserver.log
verbose

# Database (for production, use PostgreSQL or MySQL)
# use-pgsql
# pgsql-userdb=host=localhost dbname=callstack user=turn password=turn_password

# TLS certificates (for production)
# cert=/etc/ssl/certs/callstack.crt
# pkey=/etc/ssl/private/callstack.key

# Security settings
no-multicast-peers
no-cli
secure-stun

# REST API (for dynamic user management)
# use-auth-secret-with-expiry
# rest-api-port=8080
# rest-api-secret=$REST_API_SECRET